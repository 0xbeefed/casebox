CaseBox 1.9.53 (2013-11-12)
==============================
New Features, Improvements
--------------------------
- modified params sent to javascript method App.getTypeEditor
    for common usage from Objects.js form and from VerticalEditGrid.js
- added isFieldValue method to Object class for comodity
Fixed Bugs:
----------
- modified /sys/utils/create_templates_in_tree.php to work on new structure.
    Can be used for update configurations into tree from database tables.
- fixed infinite recursion appearing on updating fields visibility in greed
- added pid field for loading templates from Templates\Collection.
    It were causing Notices of undefined index "pid".
-  in Template.formatValueForDisplay method there was a bug related to namespaces
    and added verification for array values that are json encoded now for diplay
- error appear on login in Log.php class because the event does not belong to an object
Notes:
----------
- Template fields configuration should be reviewed and updated to new template ids.

CaseBox 1.9.52 (2013-11-11)
==============================
New Features, Improvements
--------------------------
- server side events already will receive an instance of object class (no array params).
    Params for Solr events remain unchanged for now.
    Events from Tasks.php and Files.php scripts are disabled until methods will be refactored.
- added delete method to Object class
- removed methods:
    - Objects.getFieldValue
    - Objects.setFieldValue
    - Objects.getCaseId
    - Objects.getCaseName
    - Objects.setCaseRolesFields
- store objects data as JSON in a database field instead of distinct tables
    - created convertor for updating existent objects and users to new data storing format
    - tables with "_data" and "_duplicates" suffixes will be removed on next commit,
        after successful cores conversion.
    - many other dependend changes ...
- definition of CB.DB.objectsStore moved to js/DB/ObjectsStore.js and renamed to CB.DB.ObjectsStore
- prevent user from accessing "Back" browser button and lose its work.

Fixed Bugs:
----------
- Preview does not show for templates

Notes:
----------
- You should do the following steps for update:
    - apply database update for core: 20131111_1057 db_update v1.9.52.sql
    - run script, for updating objects data into json field, /sys/utils/update_objects_and_users_data_fields.php <core_name>.
      Next commit will delete tables with '_data' and '_duplicates' suffixes


CaseBox 1.9.51 (2013-11-02)
==============================
New Features, Improvements
--------------------------
- encoded html chars for rendering textual values in Vertical grid
- Templates management in tree
    - script casebox/sys/utils/create_templates_in_tree.php has been created
        for templates migration to new model.
        Firstly the database difference update should be applied.
    - upgrade and migration process have been tested on all cores from devel

    Note: Old interface is not removed until the new method is fully tested and functional

- added new template types: field, search
- removed methods:
    UsersGroups.updateUserEmails
    VerticalEditGrid.addFormData
    Objects.getObjectIcon

- Changed usage of fetch_row for fetch_assoc everywhere in CaseBox
- moved methods:
    Util\getUsername -> User::getDisplayName
    Files::getAutoRenameFilename -> Objects::getAvailableName
- removed following columns from objects table:
    old_id
    pid
    template_id
    is_active
    author
    details
    files_count
- removed acl_count column from tree table. This column were moved previously to tree_info.
    in short future also will be deleted following columns from tree:
        old_id - if necesar then will use another table for imports/associations
        type -
        subtype - we moved to templates mechanism
        is_main - it's used for root folder only
- changed everywhere json_decode to return associative arrays instead of objects
    REMEMBER! : we will not use objects (like BogusAction from router).
                All params will be associative array. No more objects.
                Also custom code should be reviewed to make changes if necesary.
- Moved Template.php class to CB\Objects and changed as inherited from Object
- added a config function getOption($optionName)
    this function is designed to be used in all cases and excep direct
    accessing of configuration variables/constants.
    It uses the priority to return requested param from available configs:
        user config
        core config
        platform config
- added config parameters:
    session.lifetime
    session.persistent

    This params are defined in CaseBox platform (see config_sample.ini)
    and can be overwriten by (importance low to high):
        core config.ini
        core database config
        user config
- Security issue: sessions must be destroyed when users password is changed

Fixed Bugs:
----------
- recursive bug for custom node controllers because of non numeric ids
- uploading new file version, from a file window, did overwrite target file
- unexpected logout

Notes:
----------
- apply database update for "casebox" database: casebox.sql
- apply database update for core: 20131102_1839 db_update v1.9.51.sql

CaseBox 1.9.50 (2013-10-21)
==============================
New Features, Improvements
--------------------------
- Removed Browser.paste method used by clipboard class.
    Instead, new improved methods, are reused  from D&D
- new server side methoods required for D&D were created in other scripts
    that will be targed scripts for refactoring. All reviewed methods will be
    moved from old common classes to separated new ones.
- implemented Drag and Drop inside casebox
    D&D is implemented by using plugins mechanism
    D&D execution will generate common event 'objectsaction' for any component to listen to them
    Server side actions for D&D are recursive (CB\Browser\Actions.php)
    Everything works in concordance with security, but there are some moments to discuss

    There are some problems with D&D on a field of Properties grid in Objects edit window.  Still working on it.
    In future will be added more required/request drop zones

- added CB\DB methods: startTransaction & commitTransaction
- translations update

Fixed Bugs:
----------
- cut/copy buttons not enabled for just created nodes, in popup menu of browser tree
- processing message did not disapear when canceling a paste confirmation
- wrong security sets detection when everyone group is present with another user group
- child nodes not marked as updated in tree_info on adding new rule
    for nodes that did not have any rule and security_set assigned.
- UI gets locked when try to save an object on window close.
- 'added by' empty in User info (Users window)

Notes:
----------
- apply update for casebox database: casebox.sql
- apply database update: 20131021_1605 db_update v1.9.50.sql

CaseBox 1.9.49 (2013-10-15)
==============================
New Features, Improvements
--------------------------
- added check for FileReader browser support. Hide upload button for browser that do not support uploading from desktop.
- changed Browser.getIcon method from types based to template based detection
- Remove the "deadline" checkbox from Task Window, check if End date is empty
- Refactor objectsStore and added CB.DB.objectsStore class
- working on Drag and Drop inside CaseBox

Fixed Bugs:
----------
- Renaming a group, in users administration window, has no effect
- Creating a task from Object window shows the radio Task/Event

Notes:
----------
- apply database update: 20131013_1717 db_update v1.9.49.sql

CaseBox 1.9.48 (2013-10-08)
==============================
New Features, Improvements
--------------------------
- created Search model window with VerticalEditGrid.
- Util\toNumericArray was changed to cast numeric types accordingly. Ints to int, nonints to float.
- some language related changes
- changed .gitignore

Fixed Bugs:
----------
- added filter for faceted field types,
    so that non integer fields woldn't try to be indexed as object tags,
    that would result in solr indexing error.
- return path changed for locating and object in CB\Path.getPidPath()
- language guess fixes
- bug on save object for duplicated fields related to pfu (private_for_user) field
- User edit window disappears, in users management

CaseBox 1.9.47 (2013-10-01)
==============================
New Features, Improvements
--------------------------
- Added revoke child permissions button, for system users, in permission window
- removed legacy code for objects (violations, Decisions, Complaints, Appeals, pfu, Sentences)
- implemented Task notifications new reminder format task
- optimized some User class functions
- renamed config constans from CaseBox:
    CRONS_PATH -> CRONS_DIR
    LOGS_PATH -> LOGS_DIR
    DATA_PATH -> DATA_DIR
    FILES_PATH -> FILES_DIR
    FILES_INCOMMING_PATH -> INCOMMING_FILES_DIR
    FILES_PREVIEW_PATH -> FILES_PREVIEW_DIR
    TEMPLATES_PATH -> TEMPLATES_DIR
    SOLR_DATA_PATH -> SOLR_DATA_DIR

- defined casebox configuration constants in config.php:
    TEMP_DIR - casebox temporary folder (data/tmp)
    UPLOAD_TEMP_DIR - folder for uploaded files, separated per core (/data/tmp/<core_name>)
    MINIFY_CACHE_DIR - common folder for all cores (data/tmp/minify)

Notes:
----------
- apply update for casebox database: casebox.sql

CaseBox 1.9.46 (2013-09-30)
==============================
New Features, Improvements
--------------------------
- excluded session_start from crons initialization. Will monitor if session is needed in some crons.
- "fq" (filter query) param for search can be pased as string, when we have only a single rule to pass.
- exclude objects with folder templates (defined in config) from objects list displayed case card block.
- removed SESSION_PATH constant for sessions in config.php.
    They are stored in database by CB\Session class.

CaseBox 1.9.45 (2013-09-30)
==============================
New Features, Improvements
--------------------------
- implement CB\Session class for session handling.
    Store the sessions in database.
    Regenerate session id on each request for security reason.

Fixed Bugs:
----------
- Closed tasks should be displayed with strike font in Calendar
- Replace \n with <br> in {description} in task_notification_email.html template
- Day & Week view doesn't work properly in Calendar

Notes:
----------
- apply database update: 20130930_1308 db_update v1.9.45.sql

CaseBox 1.9.44 (2013-09-26)
==============================
New Features, Improvements
--------------------------
- update task/event dates on drag or resize
- quickfix for allday field in calendar view
- replaced Type facet for filter panel in Calendar View with Template facet
- removed responsible party from all tasks
- send notification to assigned user of the task even if the user is creator of the task
- moved Auth classes to libx/auth/
- removed references to tika client

Fixed Bugs:
----------
- The end date of a new event is not saved
- Object not found error on remove security inheritance and clear security rules
    Added check for owner in Security.getEstimatedUserAccessForObject

Notes:
----------
- apply database update: 20130926_1835 db_update v1.9.44.sql

CaseBox 1.9.43 (2013-09-25)
==============================
New Features, Improvements
--------------------------
- refactored Two Step Authentication mechanism
- added IAuth interface that is used for Google and Yubikey Authentication clases

Fixed Bugs:
----------
- removed strage characterss from mysql differential updates filenames
Notes:
----------
- update casebox database

CaseBox 1.9.42 (2013-09-23)
==============================
- implemented cb.files.upload in Api
- implemented cb.objects.create and cb.objects.save in Api
- updated Minify
- added script sys/utils/reorder_template_stucture_cfg_properties.php
    for ordering config properties of template fields
- added reload button for global Tasks view
- uncomented files content appending to solr data

Fixed Bugs:
----------
- Old username is displayed for tree objects when a user is updated
- prevent notice appearing in Solr\Client\filterSolrFields when processing array fields
- excluded object id from pids when indexing into solr
- server side: object title creation error on multivalued fields
- client side: included name property for object title detection

Notes:
----------
- database update should be applied: "20130923_1259 db_update v1.9.42.sql"
- solr core should be reindexed

CaseBox 1.9.41 (2013-09-09)
==============================
New Features, Improvements
--------------------------
- added search box near "dashboad" link at the top. Search box = search from "Home" & expandFolders=TRUE
- added function \CB\Solr\Client.escapeLuceneChars() for escaping Lucene special chars

Database updates:
----------
- install/mysql/casebox.sql (translation updates)

CaseBox 1.9.40 (2013-09-06)
==============================
New Features, Improvements
--------------------------
- Changed users limit, displayed by default in form editor, from 50 to 100.
- added flag $GLOBALS['solr_index_disable_by_custom_script'] for disabling solr indexing when runnig a custom script.
- added default sorting by name for popup window of objects editor
- reset search params when browsing an element from search results

Fixed Bugs:
----------
- Corrections and Fixes implied by Stratelit requirements
- fixed calls to Security::canEditUser without parameter
- fixed some unprefixed ExtDirect method calls
- fixed getMenuConfig javascript function
- lowercase constant access from cron_send_notifications.php

Database updates:
----------
- 20130903_2215 db_update v1.9.39.sql

CaseBox 1.9.39 (2013-09-03)
==============================
New Features, Improvements
--------------------------
- removed database fields: actions_log.office_id, tasks.case_id, tasks.updated
- removed old (not used) methods from Tasks: getUserTasks, getTasksByLawyer, browse
- added complete message, to notification mail, on completing task

Fixed Bugs:
----------
- sql error: ambiguous id column on task complete

Notes: apply database update "20130903_2215 db_update v1.9.39.sql"

CaseBox 1.9.38 (2013-09-02)
==============================
New Features, Improvements
--------------------------
- modified ssl_casebox.conf for apache

Fixed Bugs:
----------
- sql error on task create

CaseBox 1.9.37 (2013-08-31)
==============================
New Features, Improvements
--------------------------
- excluded running solr indexing, of updated tree objects, when a custom event handler is executing
- added "remove" method for \CB\Cache class
- case_id field removed from tree table, it is now into tree_info table
- removed p_mark_all_childs_as_updated procedure from database

Fixed Bugs:
----------
- can't delete objects from tree because of not prefixed class name.

Notes: apply database update "20130831_1429 db_update v1.9.37.sql"

CaseBox 1.9.31 (2013-08-30)
==============================
New Features, Improvements
--------------------------
- delayed task update status to 20 seconds
- optimized Templates\Collection

CaseBox 1.9.30 (2013-08-30)
==============================
New Features, Improvements
--------------------------
- refactored solr reindexing process
    and added bulk data reading of document properties
    that should go to solr
- added basic Template class, Templates\Collection, Templates\SingletonCollection

CaseBox 1.9.28 (2013-08-29)
==============================
Fixed Bugs:
----------
- js error on saving object
- misspelled variable in FolderViewGrid.js
- missing namespace, in some places, when calling debug function

CaseBox 1.9.17 (2013-08-23)
==============================
New Features, Improvements
--------------------------
- added icon in tree and folder view for nodes that have security rules associated.
- added acl_count field to solr

Fixed Bugs:
----------
- reanalyzed triggers and added additional processings for inherit_acl field
- updating solr data for moved node instantly into solr

Notes: update database (20130822_0014 mysql_database_structure_update.sql),
        run solr_recreate_core.php,
        run update_tree_info.php.

CaseBox 1.9.16 (2013-08-22)
==============================
Fixed Bugs:
----------
- path calculation in trigger for moved nodes (20130822_0926 mysql_database_structure_update.sql)

CaseBox 1.9.15 (2013-08-22)
==============================
New Features, Improvements
--------------------------
-   added security inheritance checkbox in interface
    and modified database triggers to take this flag into account.

Notes: You should only update database structure after switching to this release (20130822_0014 mysql_database_structure_update.sql).
    Generally there is no need to run any other scripts,
    because inheritance was enabled by default and checkbox was not available before.

CaseBox 1.9.13 (2013-08-20)
==============================
New Features, Improvements
--------------------------
- refactored Solr class and added posibility to update an object by id into solr
- added cache class and changed some places to use it instead of globals

Fixed Bugs:
----------
- security interface checkbox sets
- small fix for security calculations on nodes with everyone group and other groups specified
- renaming an object did not display changes instantly in interface
- display the correct username in main casebox menu

CaseBox 1.9.8 (2013-08-15)
==============================
New Features, Improvements
--------------------------
- Basic Api model
    apache config for host should be updated ( install/httpd/ssl_casebox.conf )
- due to psr0 adjustments, for custom cores code, we advice to:
    - define custom code classes into custom namespace (name of the core)
    - place custom code classes under php/<custom namespace>/ forder of your core
    - accessed casebox functions and constants should pe prefixed with \CB\
    - classes defined in api, to be accessible in javascript,
        should be prefixed with "<custom_namespace>_" (ex. sample_CustomClass)
    - from custom javascript files api methods are also prefixed with namespace with underline after it
        (ex. sample_CustomClass.customMethod(params, this.processResponse, this) ).


Fixed Bugs:
----------
- small fixes

CaseBox 1.9.1 (2013-08-12)
==============================
New Features, Improvements
--------------------------
- Updated security model

Fixed Bugs:
----------
- Fixed security model bugs: updated triggers and modified procedure p_update_child_security_sets
    Note: after applying this update and executing database update 20130812_1624 mysql_database_structure_update.sql
            you have to execute /sys/utils/update_tree_info.php <core_name>
